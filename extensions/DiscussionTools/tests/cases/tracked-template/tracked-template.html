<!DOCTYPE html>
<html prefix="dc: http://purl.org/dc/terms/ mw: http://mediawiki.org/rdf/" about="https://commons.wikimedia.org/wiki/Special:Redirect/revision/617912464"><head prefix="mwr: https://commons.wikimedia.org/wiki/Special:Redirect/"><meta property="mw:TimeUuid" content="2924bd40-6a34-11ec-9e37-0fd12cc87fb8"/><meta charset="utf-8"/><meta property="mw:pageId" content="97909406"/><meta property="mw:pageNamespace" content="5"/><link rel="dc:replaces" resource="mwr:revision/617911980"/><meta property="mw:revisionSHA1" content="4c261fe5a23a510317febaf9bb17a55075503de3"/><meta property="dc:modified" content="2021-12-31T12:21:19.000Z"/><meta property="mw:htmlVersion" content="2.4.0"/><meta property="mw:html:version" content="2.4.0"/><link rel="dc:isVersionOf" href="//commons.wikimedia.org/wiki/Commons_talk%3ASPARQL_query_service"/><title>Commons talk:SPARQL query service</title><base href="//commons.wikimedia.org/wiki/"/><meta property="mw:styleModules" content="ext.discussionTools.init.styles"/><link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.discussionTools.init.styles%7Cmediawiki.skinning.content.parsoid%7Cmediawiki.skinning.interface%7Csite.styles&amp;only=styles&amp;skin=vector"/><meta http-equiv="content-language" content="en"/><meta http-equiv="vary" content="Accept"/></head><body id="mwAA" lang="en" class="mw-content-ltr sitedir-ltr ltr mw-body-content parsoid-body mediawiki mw-parser-output" dir="ltr"><section data-mw-section-id="0" id="mwAQ"></section><section data-mw-section-id="1" id="mwAg"><h2 id="How_to_authenticate_to_Wikimedia_Commons_Query_Service_using_OAuth_in_Python?"><span id="How_to_authenticate_to_Wikimedia_Commons_Query_Service_using_OAuth_in_Python.3F" typeof="mw:FallbackId"></span>How to authenticate to Wikimedia Commons Query Service using OAuth in Python?</h2>

<p id="mwAw">This page says it's possible to authenticate against the query service using OAuth, but has anyone managed to do so programmatically from Python? If anyone has any working code, in any language, I would appreciate whatever you can share. I've asked the full question including my not-working Python code on StackOverflow: <a rel="mw:ExtLink" href="https://stackoverflow.com/questions/65303450/how-to-authenticate-to-wikimedia-commons-query-service-using-oauth-in-python" class="external free" id="mwBA">https://stackoverflow.com/questions/65303450/how-to-authenticate-to-wikimedia-commons-query-service-using-oauth-in-python</a> --<a rel="mw:WikiLink" href="./User:FrankieRayRobertson" title="User:FrankieRayRobertson" class="new" id="mwBQ">FrankieRayRobertson</a> (<a rel="mw:WikiLink" href="./User_talk:FrankieRayRobertson" title="User talk:FrankieRayRobertson" id="mwBg"><span class="signature-talk" id="mwBw"><span about="#mwt1" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"int:Talkpagelinktext","function":"int"},"params":{},"i":0}}]}' id="mwCA">talk</span></span></a>) 13:38, 21 December 2020 (UTC)</p>
<dl id="mwCQ"><dd id="mwCg"><span class="template-ping" about="#mwt2" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"ping","href":"./Template:Ping"},"params":{"1":{"wt":"Multichill"}},"i":0}}]}' id="mwCw">@<a rel="mw:WikiLink" href="./User:Multichill" title="User:Multichill">Multichill</a>: </span> do you have example code for this / are you using WCQS with python? --<a rel="mw:WikiLink" href="./User:Zache" title="User:Zache" id="mwDA">Zache</a> (<a rel="mw:WikiLink" href="./User_talk:Zache" title="User talk:Zache" id="mwDQ"><span class="signature-talk" id="mwDg"><span about="#mwt3" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"int:Talkpagelinktext","function":"int"},"params":{},"i":0}}]}' id="mwDw">talk</span></span></a>) 06:55, 4 January 2021 (UTC)
<dl id="mwEA"><dd id="mwEQ"><span class="template-ping" about="#mwt4" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"Ping","href":"./Template:Ping"},"params":{"1":{"wt":"Zache"}},"i":0}}]}' id="mwEg">@<a rel="mw:WikiLink" href="./User:Zache" title="User:Zache">Zache</a>: </span> no, would have to look into this. Should be part of Pywikibot if someone figures it out. Did you already file a task in phabricator to add support for <a rel="mw:ExtLink" href="https://wcqs-beta.wmflabs.org/" class="external free" id="mwEw">https://wcqs-beta.wmflabs.org/</a><span typeof="mw:DisplaySpace" id="mwFA">Â </span>? <a rel="mw:WikiLink" href="./User:Multichill" title="User:Multichill" id="mwFQ">Multichill</a> (<a rel="mw:WikiLink" href="./User_talk:Multichill" title="User talk:Multichill" id="mwFg">talk</a>) 18:31, 13 February 2021 (UTC)</dd></dl></dd></dl>

</section><section data-mw-section-id="2" id="mwFw"><h2 id="HTTP_500,_server_down?"><span id="HTTP_500.2C_server_down.3F" typeof="mw:FallbackId"></span>HTTP 500, server down?</h2>

<p id="mwGA">For me <code id="mwGQ"><a rel="mw:ExtLink" href="https://wcqs-beta.wmflabs.org/" class="external free" id="mwGg">https://wcqs-beta.wmflabs.org/</a></code> throws a 500 Internal Server Error:</p>
<pre id="mwGw">Problem accessing /oauth/check_login. Reason:
Request failed.</pre>
<p id="mwHA">Is this known? Any information when the query service might be back? Thanks in advance for any information or linking to relevant other places! --<a rel="mw:WikiLink" href="./User:Marsupium" title="User:Marsupium" id="mwHQ">Marsupium</a> (<a rel="mw:WikiLink" href="./User_talk:Marsupium" title="User talk:Marsupium" id="mwHg"><span class="signature-talk" id="mwHw"><span about="#mwt5" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"int:Talkpagelinktext","function":"int"},"params":{},"i":0}}]}' id="mwIA">talk</span></span></a>) 00:30, 28 December 2021 (UTC)</p>

<dl id="mwIQ"><dd id="mwIg"><span class="template-ping" about="#mwt6" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"re","href":"./Template:Re"},"params":{"1":{"wt":"Marsupium"}},"i":0}}]}' id="mwIw">@<a rel="mw:WikiLink" href="./User:Marsupium" title="User:Marsupium">Marsupium</a>: </span> issue was reported in T297454--<a rel="mw:WikiLink" href="./User:Shisma" title="User:Shisma" id="mwJA">Shisma</a> (<a rel="mw:WikiLink" href="./User_talk:Shisma" title="User talk:Shisma" id="mwJQ"><span class="signature-talk" id="mwJg"><span about="#mwt10" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"int:Talkpagelinktext","function":"int"},"params":{},"i":0}}]}' id="mwJw">talk</span></span></a>) 11:48, 31 December 2021 (UTC) <style data-mw-deduplicate="TemplateStyles:r578707000" typeof="mw:Extension/templatestyles mw:Transclusion" about="#mwt7" data-mw='{"parts":[{"template":{"target":{"wt":"phabricator","href":"./Template:Phabricator"},"params":{"1":{"wt":"T297454"}},"i":0}}]}' id="mwKA">.mw-parser-output .tracked{float:right;clear:right;border:1px solid #999;border-radius:0.5em;background-color:#eee;background-image:linear-gradient(to bottom,#ddd,#eee);font-size:85%;text-align:center;padding:0.5em;margin-left:1em;margin-bottom:1em;width:12em;color:black}.mw-parser-output .tracked p{margin:0}.mw-parser-output .tracked-url{font-weight:bold}.mw-parser-output .tracked .status,.mw-parser-output .tracked-status{font-weight:bold;text-transform:uppercase}.mw-parser-output .tracked .status.resolved,.mw-parser-output .tracked-resolved{color:green}.mw-parser-output .tracked .status.critical,.mw-parser-output .tracked-critical{color:red;font-size:1.5em}</style><div class="tracked plainlinks mw-trackedTemplate" about="#mwt7" id="mwKQ">Tracked in <a rel="mw:WikiLink/Interwiki" href="https://www.mediawiki.org/wiki/Special:MyLanguage/Phabricator" title="mw:Special:MyLanguage/Phabricator" class="extiw">Phabricator</a><br/><b><a rel="mw:WikiLink/Interwiki" href="https://phabricator.wikimedia.org/T297454" title="phabricator:T297454" class="extiw"><span class="tracked-url trakfab-T297454">Task T297454</span></a></b><br/><span class="status"></span></div>
<dl id="mwKg"><dd id="mwKw">Thanks for the link! --<a rel="mw:WikiLink" href="./User:Marsupium" title="User:Marsupium" id="mwLA">Marsupium</a> (<a rel="mw:WikiLink" href="./User_talk:Marsupium" title="User talk:Marsupium" id="mwLQ"><span class="signature-talk" id="mwLg"><span about="#mwt11" typeof="mw:Transclusion" data-mw='{"parts":[{"template":{"target":{"wt":"int:Talkpagelinktext","function":"int"},"params":{},"i":0}}]}' id="mwLw">talk</span></span></a>) 12:19, 31 December 2021 (UTC)</dd></dl></dd></dl></section></body></html>