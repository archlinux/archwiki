-- This file is automatically generated using maintenance/generateSchemaChangeSql.php.
-- Source: maintenance/abstractSchemaChanges/patch-sites-rename-indexes.json
-- Do not modify this file directly.
-- See https://www.mediawiki.org/wiki/Manual:Schema_changes
DROP  INDEX sites_global_key;
DROP  INDEX sites_type;
DROP  INDEX sites_group;
DROP  INDEX sites_source;
DROP  INDEX sites_language;
DROP  INDEX sites_protocol;
DROP  INDEX sites_domain;
DROP  INDEX sites_forward;
CREATE TEMPORARY TABLE /*_*/__temp__sites AS
SELECT  site_id,  site_global_key,  site_type,  site_group,  site_source,  site_language,  site_protocol,  site_domain,  site_data,  site_forward,  site_config
FROM  /*_*/sites;
DROP  TABLE  /*_*/sites;
CREATE TABLE  /*_*/sites (    site_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,    site_global_key BLOB NOT NULL,    site_type BLOB NOT NULL,    site_group BLOB NOT NULL,    site_source BLOB NOT NULL,    site_language BLOB NOT NULL,    site_protocol BLOB NOT NULL,    site_domain VARCHAR(255) NOT NULL,    site_data BLOB NOT NULL,    site_forward SMALLINT NOT NULL,    site_config BLOB NOT NULL  );
INSERT INTO  /*_*/sites (    site_id, site_global_key, site_type,    site_group, site_source, site_language,    site_protocol, site_domain, site_data,    site_forward, site_config  )
SELECT  site_id,  site_global_key,  site_type,  site_group,  site_source,  site_language,  site_protocol,  site_domain,  site_data,  site_forward,  site_config
FROM  /*_*/__temp__sites;
DROP  TABLE /*_*/__temp__sites;
CREATE UNIQUE INDEX site_global_key ON  /*_*/sites (site_global_key);
CREATE INDEX site_type ON  /*_*/sites (site_type);
CREATE INDEX site_group ON  /*_*/sites (site_group);
CREATE INDEX site_source ON  /*_*/sites (site_source);
CREATE INDEX site_language ON  /*_*/sites (site_language);
CREATE INDEX site_protocol ON  /*_*/sites (site_protocol);
CREATE INDEX site_domain ON  /*_*/sites (site_domain);
CREATE INDEX site_forward ON  /*_*/sites (site_forward);